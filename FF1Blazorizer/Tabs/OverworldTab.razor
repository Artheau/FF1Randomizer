@using FF1Lib;


	<div id="Overworld" class="tabcontent framed-content clearfix @(noTabLayout ? "no-tab" : "") @(IsOpen ? "" : "collapsed")">
		<h3 class="@(IsOpen ? "" : "h3-collapsed")"><a class="@(noTabLayout ? "collapsible-header" : "")" @onclick="(() => IsOpen = (!noTabLayout || !IsOpen))">Overworld</a></h3>
		@if (IsOpen)
		{
	<div class="col1">
		<EnumDropDown UpdateToolTip="@UpdateToolTipID" Id="owMapExchange" TItem="OwMapExchanges" IsEnabled="Flags.SanityCheckerV2" @bind-Value="Flags.OwMapExchange">Overworld map to use:</EnumDropDown>

	</div>
	<div class="col2">

		<h4>Vanilla overworld edits</h4>
		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="mapOpenProgressionCheckBox"
		IsEnabled="@(Flags.OwMapExchange == OwMapExchanges.None ||
		Flags.OwMapExchange == OwMapExchanges.MelmondStart ||
		Flags.OwMapExchange == OwMapExchanges.ElflandStart ||
		Flags.OwMapExchange == OwMapExchanges.CrecsentStart)"
		@bind-Value="Flags.MapOpenProgression">Early Open Progression</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="mapOpenProgressionDwavesNWCheckBox"
		IsEnabled="@Flags.MapOpenProgression" Indent @bind-Value="Flags.MapDwarvesNorthwest">Extended Open Progression</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="mapOpenProgressionDocksCheckBox"
		IsEnabled="@(Flags.OwMapExchange == OwMapExchanges.None ||
		Flags.OwMapExchange == OwMapExchanges.MelmondStart ||
		Flags.OwMapExchange == OwMapExchanges.ElflandStart ||
		Flags.OwMapExchange == OwMapExchanges.CrecsentStart)"
		@bind-Value="Flags.MapOpenProgressionDocks">Northern Docks</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="mapOpenProgressionFloaterDockCheckBox"
		IsEnabled="@Flags.MapOpenProgression" @bind-Value="Flags.MapAirshipDock">Ryukahn Desert Dock</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="bahamutCardiaDockCheckBox"
		IsEnabled="@(Flags.OwMapExchange == OwMapExchanges.None ||
		Flags.OwMapExchange == OwMapExchanges.MelmondStart ||
		Flags.OwMapExchange == OwMapExchanges.ElflandStart ||
		Flags.OwMapExchange == OwMapExchanges.CrecsentStart)"
		@bind-Value="Flags.MapBahamutCardiaDock">Bahamut Cardia Dock</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="lefeinRiverDockCheckBox"
		IsEnabled="@(Flags.OwMapExchange == OwMapExchanges.None ||
		Flags.OwMapExchange == OwMapExchanges.MelmondStart ||
		Flags.OwMapExchange == OwMapExchanges.ElflandStart ||
		Flags.OwMapExchange == OwMapExchanges.CrecsentStart)"
		@bind-Value="Flags.MapLefeinRiver">Lefein River Dock</TriStateCheckBox>

		<TriStateCheckBox UpdateToolTip="@UpdateToolTipID" Id="gaiaMountainPassCheckBox"
		IsEnabled="@(Flags.OwMapExchange == OwMapExchanges.None ||
		Flags.OwMapExchange == OwMapExchanges.MelmondStart ||
		Flags.OwMapExchange == OwMapExchanges.ElflandStart ||
		Flags.OwMapExchange == OwMapExchanges.CrecsentStart)"
		@bind-Value="Flags.MapGaiaMountainPass">Gaia Mountain Pass</TriStateCheckBox>
		<div class="checkbox-cell"></div>

		<div class="clear-it"></div>
		</div>
		}
	</div>


	@code {
		[Parameter] public FF1Lib.FlagsViewModel Flags { get; set; }
		[Parameter] public Action<string, MouseEventArgs> UpdateToolTipID { get; set; }
		[Parameter] public bool noTabLayout { get; set; }
		[Parameter] public bool IsOpen { get; set; } = true;
	}
