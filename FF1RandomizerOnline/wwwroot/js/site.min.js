function loadPresetFile(n){$.getJSON("/presets/"+n,n=>{presets.push(n)})}function setFileName(){var t=document.getElementById("File"),i=document.getElementById("file-label"),n=t.files[0];return n&&(i.innerHTML=n.name),!0}var presets=[],base64Chars,computedPropertyArray;loadPresetFile("default.json");loadPresetFile("debug.json");loadPresetFile("beginner.json");loadPresetFile("full-npc.json");loadPresetFile("improved-vanilla.json");loadPresetFile("swiss.json");loadPresetFile("playoff.json");base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-!";computedPropertyArray=vueModelData;computedPropertyArray.FlagsInput={get:function(){return this.flagString},set:function(n){this.flagString=n;this.flagError=!n.match(/^[A-Za-z0-9!-]{32,}$/)}};computedPropertyArray.SeedInput={get:function(){return this.seedString},set:function(n){this.seedString=n;this.seedError=!n.match(/^[A-Fa-f0-9]{8}$/)}};var funKey="fun_flags",defaultFun={ModernBattlefield:!1,FunEnemyNames:!1,PaletteSwap:!1,TeamSteak:!1,MusicShuffle:"0"},app=new Vue({el:"#vueScope",data:{flagString:document.getElementById("Flags").value,flagError:!1,seedString:"",seedError:!1,fun:defaultFun,funKeyMessage:"",queryString:new URLSearchParams(document.location.search)},mounted:function(){this.$nextTick(function(){var n=JSON.parse(localStorage.getItem(funKey));n&&(this.fun=n,this.funKeyMessage="Your saved Fun % flags have been automatically restored.");this.seedString=this.queryString.get("s");this.seedString||this.newSeed();this.queryString.has("f")&&(this.flagString=this.queryString.get("f"))})},watch:{flagString:function(){this.updateHistory()},seedString:function(){this.updateHistory()}},methods:{saveFun:function(){localStorage.setItem(funKey,JSON.stringify(this.fun));this.funKeyMessage="Preferences Saved."},clearFun:function(){localStorage.removeItem(funKey);this.funKeyMessage="Preferences Cleared."},updateHistory:function(){var n=document.location.href;n.indexOf("?")>0&&(n=n.substr(0,n.indexOf("?")));this.queryString.set("s",this.seedString);this.queryString.set("f",this.flagString);history.replaceState({},"",n+"?"+this.queryString.toString())},newSeed:function(){var n=Math.floor(4294967296*Math.random());this.seedString=n.toString(16).toUpperCase().padStart(8,"0")},importSeedFlags:function(){var n=prompt("Press Ctrl+C to copy to clipboard or paste in a SEED_FLAGS string and click OK to save changes.",this.seedString+"_"+this.flagString),t,i;n&&([t,i]=n.split("_",2),this.SeedInput=t,this.FlagsInput=i)},preset:function(n){var t,r;let i=presets.find(t=>t.Name===n).Flags;for(t in i)t=="WarMECHMode"?(r=i[t],this.WarMECHMode=r=="Vanilla"?0:r=="Patrolling"?1:r=="Required"?3:0):this[t]!==!0&&this[t]!==!1?this[t]=i[t]:(this[t]&&!i[t]||!this[t]&&i[t])&&(this[t]=i[t])},getCountIncentivizedItems:function(){return this.IncentivizeMasamune+this.IncentivizeOpal+this.IncentivizeRibbon+this.IncentivizeDefCastArmor+this.IncentivizeOtherCastArmor+this.IncentivizeDefCastWeapon+this.IncentivizeOffCastWeapon+this.IncentivizeFetchItems*2+this.IncentivizeRequiredItems*4+this.IncentivizeNonRequiredItems+(this.IncentivizeRequiredItems&&this.IncentivizeFreeNPCs)*7+(!this.NPCFetchItems&&this.IncentivizeNonRequiredItems)*2+((!this.IncentivizeRequiredItems||this.NPCFetchItems)&&IncentivizeFetchItems)*3+((!this.IncentivizeNonRequiredItems||this.NPCFetchItems)&&IncentivizeFetchItems)*2},getCountIncentivizedLocations:function(){return this.IncentivizeIceCave+this.IncentivizeOrdeals+this.IncentivizeMarsh+this.IncentivizeEarth+this.IncentivizeVolcano+this.IncentivizeSeaShrine+this.IncentivizeSkyPalace+this.IncentivizeConeria+this.IncentivizeMarshKeyLocked+7*(this.IncentivizeFreeNPCs*this.NPCItems+this.IncentivizeFetchNPCs*this.NPCFetchItems)}},computed:computedPropertyArray});